---
title: Readme
description: Mastra Team: Straightforward AI Agents
**Version**: 1.0.0  
**Last Updated**: 2025-01-03  
**Purpose**: Building transparent, TypeScript-first AI agents
---

# Mastra Team: Straightforward AI Agents
**Version**: 1.0.0  
## Table Of Contents

<!-- Generated placeholder; add anchors as needed -->

## Table Of Contents

<!-- Generated placeholder; add anchors as needed -->

**Last Updated**: 2025-01-03  
**Purpose**: Building transparent, TypeScript-first AI agents

## üéØ Overview

The Mastra team has created a refreshingly straightforward TypeScript framework for building AI agents. Unlike heavy abstractions that hide complexity, Mastra embraces transparency - you know exactly what's happening under the hood.

### Core Philosophy
- **No Magic**: Every operation is explicit and traceable
- **TypeScript First**: Full type safety for AI workflows
- **Lightweight**: Uses Vercel AI SDK instead of reinventing the wheel
- **Functional**: Embraces functional programming patterns
- **Transparent**: Clear data flow, no hidden state

## üèóÔ∏è Principles Of Building AI Agents

### 1. Core Building Blocks

**Providers** - LLM connections made simple:
```typescript
const provider = new OpenAIProvider({
  apiKey: process.env.OPENAI_API_KEY
});
```

**Prompts** - Type-safe, composable templates:
```typescript
const analysisPrompt = createPrompt<{input: string}>({
  template: "Analyze the following: {{input}}"
});
```

**Tools** - Functions AI can call:
```typescript
const searchTool = {
  name: "search",
  description: "Search the web",
  execute: async (query: string) => {
    // Implementation
  }
};
```

**Memory** - Persistent context:
```typescript
const memory = new Memory({
  store: new RedisStore(),
  namespace: "conversation"
});
```

### 2. Workflow Composition

Mastra emphasizes building complex behaviors from simple parts:

```typescript
// Simple, readable workflow
const workflow = createWorkflow({
  steps: [
    { name: "analyze", prompt: analysisPrompt },
    { name: "search", tool: searchTool },
    { name: "synthesize", prompt: synthesisPrompt }
  ]
});

// Execute with full visibility
const result = await workflow.run({ 
  input: userQuery,
  debug: true  // See every step
});
```

### 3. Transparency Over Abstraction

**What Mastra Does:**
```typescript
// You see the actual LLM call
const response = await provider.complete({
  messages: [{ role: "user", content: prompt }],
  temperature: 0.7
});
```

**What Mastra Avoids:**
```typescript
// No hidden magic like this
const response = await agent.think(); // What's happening??
```

## üí° Key Design Decisions

### 1. Leveraging Vercel AI Sdk
Instead of building yet another LLM wrapper:
- Uses battle-tested streaming infrastructure
- Supports all major providers out of the box
- Benefits from Vercel's edge optimization

### 2. Functional Approach
```typescript
// Workflows are pure functions
const workflow = pipe(
  parseInput,
  analyzeContent,
  generateResponse,
  formatOutput
);

// Easy to test, reason about, and compose
```

### 3. Type Safety Throughout
```typescript
interface AnalysisResult {
  sentiment: "positive" | "negative" | "neutral";
  topics: string[];
  confidence: number;
}

// Compile-time guarantees
const analyze = createAgent<string, AnalysisResult>({
  // Implementation
});
```

### 4. Explicit Error Handling
```typescript
const result = await agent.run(input);
if (result.error) {
  // Clear error types
  switch (result.error.type) {
    case "RateLimitError":
      // Handle rate limiting
    case "ParseError":
      // Handle parsing issues
  }
}
```

## üöÄ Practical Applications

### 1. Customer Support Agent
```typescript
const supportAgent = createAgent({
  name: "Customer Support",
  tools: [searchKnowledgeBase, createTicket, sendEmail],
  prompt: customerServicePrompt,
  memory: conversationMemory
});

// Clear execution flow
const response = await supportAgent.handle({
  message: customerQuery,
  context: { customerId, history }
});
```

### 2. Code Review Assistant
```typescript
const reviewAssistant = createWorkflow({
  steps: [
    { 
      name: "analyze_code",
      tool: parseCode,
      prompt: "Identify potential issues"
    },
    {
      name: "check_standards",
      tool: lintCode,
      prompt: "Verify coding standards"
    },
    {
      name: "suggest_improvements",
      prompt: improvementPrompt
    }
  ]
});
```

### 3. Research Agent
```typescript
const researcher = createAgent({
  tools: [webSearch, extractContent, summarize],
  workflow: async (topic: string) => {
    // Explicit control flow
    const sources = await webSearch(topic);
    const contents = await Promise.all(
      sources.map(extractContent)
    );
    return summarize(contents);
  }
});
```

## üìù Integration With Claude Commands

### Agent Creation Pattern
```bash
@~/Developer/docs/inspo/ai-and-modern-development/mastra-team/
"Create a Mastra agent for [task] following the straightforward pattern:
1. Define clear tools
2. Compose simple workflows  
3. Add type safety
4. Keep operations transparent"
```

### Workflow Design Pattern
```bash
"Design a Mastra workflow that:
- Uses functional composition
- Shows clear data flow
- Handles errors explicitly
- Maintains type safety throughout"
```

### Testing Pattern
```bash
"Generate tests for this Mastra agent focusing on:
- Individual tool testing
- Workflow composition
- Error scenarios
- Type correctness"
```

## üîë Best Practices

### 1. Start With Tools
```typescript
// Define capabilities first
const tools = {
  search: createTool({ /* ... */ }),
  analyze: createTool({ /* ... */ }),
  store: createTool({ /* ... */ })
};

// Then compose into agents
```

### 2. Keep Workflows Simple
```typescript
// Good: Clear, linear flow
const workflow = [getInput, process, respond];

// Avoid: Complex branching in one workflow
const workflow = [
  getInput,
  complexBranchingLogic, // Break this down
  nestedWorkflows,       // Compose instead
  respond
];
```

### 3. Embrace Types
```typescript
// Define your domain
type CustomerQuery = {
  question: string;
  customerId: string;
  context: CustomerContext;
};

type SupportResponse = {
  answer: string;
  confidence: number;
  sources: Source[];
};

// Let TypeScript guide you
const handleQuery = async (
  query: CustomerQuery
): Promise<SupportResponse> => {
  // Implementation
};
```

### 4. Monitor Everything
```typescript
const agent = createAgent({
  // ... configuration
  middleware: [
    logPerformance,
    trackTokenUsage,
    monitorErrors
  ]
});
```

## üåü Key Differentiators

### Vs. Langchain
- **Simpler**: Less abstraction, more clarity
- **Type-safe**: Full TypeScript support
- **Lighter**: Smaller bundle, fewer dependencies
- **Transparent**: You see what's happening

### Vs. Custom Solutions
- **Structured**: Proven patterns for agent building
- **Maintained**: Active development and community
- **Integrated**: Works with existing tools (Vercel AI SDK)
- **Tested**: Battle-tested patterns

## üí≠ Philosophy In Practice

### "You Know Exactly What's Happening"
Every Mastra operation is inspectable:
```typescript
// Enable debug mode
const result = await agent.run(input, { debug: true });

// See every step
console.log(result.steps);
// [
//   { step: "analyze", input: "...", output: "...", duration: 120 },
//   { step: "search", input: "...", output: "...", duration: 340 },
//   { step: "synthesize", input: "...", output: "...", duration: 200 }
// ]
```

### Composition Over Configuration
Instead of complex configs, compose simple functions:
```typescript
// Not this
const agent = new Agent({
  config: loadComplexConfig(),
  behaviors: defineBehaviors(),
  // ... 100 more options
});

// But this
const agent = pipe(
  withTools(tools),
  withMemory(memory),
  withPrompt(prompt)
);
```

## üìö Resources

- [Mastra Documentation](https://mastra.dev)
- [Building AI Agents Guide](https://mastra.dev/guides/building-agents)
- [Mastra vs. LangChain Comparison](https://blog.mastra.dev/mastra-vs-langchain)
- [TypeScript AI Patterns](https://mastra.dev/patterns)

---
*"Refreshingly straightforward" - The path to powerful AI agents through simplicity and transparency*
---
title: Mastra Team: AI Orchestration Patterns
description: Practical insights from the Mastra team on agent orchestration
---

## See Also

- [Standards](/architecture/standards)
- [Turborepo](/tools/stack/turborepo)
- [AI Sdk](/tools/stack/ai-sdk)
- [Orpc Turborepo Guide](/tools/integrations/orpc-turborepo-guide)
